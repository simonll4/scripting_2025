###############################################
# RTMP (para recibir streams desde agentes)
rtmp: yes
rtmpAddress: :1935
rtmpEncryption: no          # no RTMPS en local

###############################################
# HLS (para reproducir en navegador)
hls: yes
hlsAddress: :8888
hlsEncryption: no           # en local no hace falta HTTPS
# hlsAlwaysRemux: no        # (opcional) remux permanente vs on-demand
# hlsVariant: mpegts|fmp4   # dejamos por defecto

###############################################
# Playback server (descarga de grabaciones, opcional)
# playback: yes
# playbackAddress: :9996
# playbackEncryption: no

###############################################
# Defaults por path (se aplican a todas las cámaras)
pathDefaults:
  # Grabar a disco
  record: yes
  recordPath: /recordings/%path/%Y-%m-%d_%H-%M-%S-%f
  recordFormat: fmp4            # fmp4 = MP4 fragmentado (ideal para VOD en web)
  recordPartDuration: 1s        # tamaño de “partes” internas
  recordSegmentDuration: 1m     # generar un archivo por minuto (ajusta a gusto)
  recordDeleteAfter: 168h       # retener 7 días (0s = no borrar)

  # RTSP como fuente (cámaras IP)
  rtspTransport: automatic      # auto: UDP o TCP según la cámara

###############################################
# Paths de cámaras
paths:
  cam_entrada:
    source: rtsp://usuario:pass@192.168.1.50:554/stream1

  webcam:
    # Este path recibirá el stream desde el agente GStreamer
    # No necesita source ya que será un stream entrante vía RTMP

  # cam_patio:
  #   source: rtsp://usuario:pass@192.168.1.51:554/stream1
